!function(e){var t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e){e.exports={_from:"tesseract.js",_id:"tesseract.js@1.0.10",_inBundle:!1,_integrity:"sha1-4RqWrnYUeTnZIY+I4of7aUFLHl0=",_location:"/tesseract.js",_phantomChildren:{},_requested:{type:"tag",registry:!0,raw:"tesseract.js",name:"tesseract.js",escapedName:"tesseract.js",rawSpec:"",saveSpec:null,fetchSpec:"latest"},_requiredBy:["#USER","/"],_resolved:"https://registry.npmjs.org/tesseract.js/-/tesseract.js-1.0.10.tgz",_shasum:"e11a96ae76147939d9218f88e287fb69414b1e5d",_spec:"tesseract.js",_where:"h:\\Programming\\Web\\project\\pwa_version",author:"",browser:{"./src/node/index.js":"./src/browser/index.js"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},bundleDependencies:!1,dependencies:{"file-type":"^3.8.0","is-url":"^1.2.2","jpeg-js":"^0.2.0","level-js":"^2.2.4","node-fetch":"^1.6.3","object-assign":"^4.1.0","png.js":"^0.2.1","tesseract.js-core":"^1.0.2"},deprecated:!1,description:"Pure Javascript Multilingual OCR",devDependencies:{"babel-preset-es2015":"^6.16.0",babelify:"^7.3.0",browserify:"^13.1.0",envify:"^3.4.1","http-server":"^0.9.0",pako:"^1.0.3",watchify:"^3.7.0"},homepage:"https://github.com/naptha/tesseract.js",license:"Apache-2.0",main:"src/index.js",name:"tesseract.js",repository:{type:"git",url:"git+https://github.com/naptha/tesseract.js.git"},scripts:{build:"browserify src/index.js -t [ babelify --presets [ es2015 ] ] -o dist/tesseract.js --standalone Tesseract && browserify src/browser/worker.js -t [ babelify --presets [ es2015 ] ] -o dist/worker.js",release:"npm run build && git commit -am 'new release' && git push && git tag `jq -r '.version' package.json` && git push origin --tags && npm publish",start:"watchify src/index.js  -t [ envify --NODE_ENV development ] -t [ babelify --presets [ es2015 ] ] -o dist/tesseract.dev.js --standalone Tesseract & watchify src/browser/worker.js  -t [ envify --NODE_ENV development ] -t [ babelify --presets [ es2015 ] ] -o dist/worker.dev.js & http-server -p 7355",test:'echo "Error: no test specified" & exit 1'},version:"1.0.10"}},function(e,t,r){var s={corePath:"https://cdn.rawgit.com/naptha/tesseract.js-core/0.1.0/index.js",langPath:"https://cdn.rawgit.com/naptha/tessdata/gh-pages/3.02/"},n=r(0).version;s.workerPath="https://cdn.rawgit.com/naptha/tesseract.js/"+n+"/dist/worker.js",t.defaultOptions=s,t.spawnWorker=function(e,t){if(window.Blob&&window.URL)var r=new Blob(['importScripts("'+t.workerPath+'");']),s=new Worker(window.URL.createObjectURL(r));else s=new Worker(t.workerPath);return s.onmessage=function(t){var r=t.data;e._recv(r)},s},t.terminateWorker=function(e){e.worker.terminate()},t.sendPacket=function(e,t){!function e(t,r){if("string"==typeof t){if(/^\#/.test(t))return e(document.querySelector(t),r);if(/(blob|data)\:/.test(t)){var s=new Image;return s.src=t,void(s.onload=(t=>e(s,r)))}var n=new XMLHttpRequest;return n.open("GET",t,!0),n.responseType="blob",n.onload=(t=>e(n.response,r)),n.onerror=function(s){/^https?:\/\//.test(t)&&!/^https:\/\/crossorigin.me/.test(t)&&(console.debug("Attempting to load image with CORS proxy"),e("https://crossorigin.me/"+t,r))},void n.send(null)}if(t instanceof File){var o=new FileReader;return o.onload=(t=>e(o.result,r)),void o.readAsDataURL(t)}if(t instanceof Blob)return e(URL.createObjectURL(t),r);if(t.getContext)return e(t.getContext("2d"),r);if("IMG"==t.tagName||"VIDEO"==t.tagName){var a=document.createElement("canvas");a.width=t.naturalWidth||t.videoWidth,a.height=t.naturalHeight||t.videoHeight;var i=a.getContext("2d");return i.drawImage(t,0,0),e(i,r)}if(t.getImageData){var c=t.getImageData(0,0,t.canvas.width,t.canvas.height);return e(c,r)}return r(t);throw new Error("Missing return in loadImage cascade")}(t.payload.image,function(r){t.payload.image=r,e.worker.postMessage(t)})}},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var s=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(e){s[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,a,i=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in r=Object(arguments[c]))n.call(r,l)&&(i[l]=r[l]);if(s){a=s(r);for(var d=0;d<a.length;d++)o.call(r,a[d])&&(i[a[d]]=r[a[d]])}}return i}},function(e,t,r){const s=r(1);let n=0;e.exports=class{constructor(e){this.id="Job-"+ ++n+"-"+Math.random().toString(16).slice(3,8),this._instance=e,this._resolve=[],this._reject=[],this._progress=[],this._finally=[]}then(e,t){return this._resolve.push?this._resolve.push(e):e(this._resolve),t&&this.catch(t),this}catch(e){return this._reject.push?this._reject.push(e):e(this._reject),this}progress(e){return this._progress.push(e),this}finally(e){return this._finally.push(e),this}_send(e,t){s.sendPacket(this._instance,{jobId:this.id,action:e,payload:t})}_handle(e){var t=e.data;let r=!1;"resolve"===e.status?(0===this._resolve.length&&console.log(t),this._resolve.forEach(e=>{var r=e(t);r&&"function"==typeof r.then&&console.warn("TesseractJob instances do not chain like ES6 Promises. To convert it into a real promise, use Promise.resolve.")}),this._resolve=t,this._instance._dequeue(),r=!0):"reject"===e.status?(0===this._reject.length&&console.error(t),this._reject.forEach(e=>e(t)),this._reject=t,this._instance._dequeue(),r=!0):"progress"===e.status?this._progress.forEach(e=>e(t)):console.warn("Message type unknown",e.status),r&&this._finally.forEach(e=>e(t))}}},function(e,t){e.exports=function(e){return e.paragraphs=[],e.lines=[],e.words=[],e.symbols=[],e.blocks.forEach(function(t){t.page=e,t.lines=[],t.words=[],t.symbols=[],t.paragraphs.forEach(function(r){r.block=t,r.page=e,r.words=[],r.symbols=[],r.lines.forEach(function(s){s.paragraph=r,s.block=t,s.page=e,s.symbols=[],s.words.forEach(function(n){n.line=s,n.paragraph=r,n.block=t,n.page=e,n.symbols.forEach(function(o){o.word=n,o.line=s,o.paragraph=r,o.block=t,o.page=e,o.line.symbols.push(o),o.paragraph.symbols.push(o),o.block.symbols.push(o),o.page.symbols.push(o)}),n.paragraph.words.push(n),n.block.words.push(n),n.page.words.push(n)}),s.block.lines.push(s),s.page.lines.push(s)}),r.page.paragraphs.push(r)})}),e}},function(e,t,r){const s=r(1),n=r(4),o=r(3),a=r(2),i=r(0).version;class c{constructor(e){this.worker=null,this.workerOptions=e,this._currentJob=null,this._queue=[]}recognize(e,t){return this._delay(r=>{"string"==typeof t?t={lang:t}:(t=t||{}).lang=t.lang||"eng",r._send("recognize",{image:e,options:t,workerOptions:this.workerOptions})})}detect(e,t){return t=t||{},this._delay(r=>{r._send("detect",{image:e,options:t,workerOptions:this.workerOptions})})}terminate(){this.worker&&s.terminateWorker(this),this.worker=null}_delay(e){this.worker||(this.worker=s.spawnWorker(this,this.workerOptions));var t=new o(this);return this._queue.push(r=>{this._queue.shift(),this._currentJob=t,e(t)}),this._currentJob||this._dequeue(),t}_dequeue(){this._currentJob=null,this._queue.length>0&&this._queue[0]()}_recv(e){"resolve"===e.status&&"recognize"===e.action&&(e.data=n(e.data)),this._currentJob.id===e.jobId?this._currentJob._handle(e):console.warn("Job ID "+e.jobId+" not known.")}}var l=function e(t){t=t||{};var r=new c(a({},s.defaultOptions,t));return r.create=e,r.version=i,r}();e.exports=l},function(e,t,r){const s=r(5);let n=document.getElementById("submit");const o={English:"eng",Spanish:"spn",French:"fra",Russian:"rus",Chinese:"chi_sim",Arabic:"arb",German:"deu",Hebrew:"heb",Japanese:"jpn",Korean:"kor",Turkish:"tur"};let a;window.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction||window.msIDBTransaction||{READ_WRITE:"readwrite"},window.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange,window.indexedDB||console.log("Your browser doesn't support a stable version of IndexedDB.");let i=indexedDB.open("OCR",1);i.onerror=(e=>{console.log("Error opening database!")}),i.onsuccess=(e=>{console.log("Opened IndexedDB database."),a=e.target.result}),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("./sw.js").then(e=>{console.log("Service Worker Registered")}).catch(e=>{console.error("Error registering service worker!")})});var c=document.getElementById("file");c.onchange=function(){c.files.length>0&&(document.getElementById("filename").innerHTML=c.files[0].name)},document.getElementById("submit").addEventListener("click",function(){const e=document.getElementById("file").files[0];let t=document.getElementById("languageform").value;if(document.getElementById("filename").innerHTML="",e.type.match(/image.*/)){const r=new FileReader;r.onload=(e=>{!function(e,t){let r=document.createElement("div");r.className="box";let a=document.createElement("article");a.className="media";let i=document.createElement("div");i.className="media-left";let c=document.createElement("figure");c.className="image is-64x64";let l=document.createElement("div");l.className="media-content";let d=document.createElement("div");d.className="content";let u=document.createElement("p"),p=new Image;p.className="thumb",p.src=e,r.appendChild(a),a.appendChild(i),i.appendChild(c),c.appendChild(p),a.appendChild(l),l.appendChild(d),d.appendChild(u);let h=o[t];console.log(h),s.recognize(e,{lang:h}).progress(e=>{n.className="button is-loading"}).then(e=>{n.className="button",u.innerHTML=e.text,document.getElementById("display").appendChild(r).scrollIntoView({block:"end",behavior:"smooth"})}).catch(e=>{n.className="button",u.innerHTML="This image could not be processed correctly!",document.getElementById("display").appendChild(r)})}(r.result,t)}),r.readAsDataURL(e)}else e.type.match(/application.pdf/)?console.log("pdf"):console.log("error");document.getElementById("file").value=""})}]);